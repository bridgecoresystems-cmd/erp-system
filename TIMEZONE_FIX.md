# üïê –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú–´ –° –í–†–ï–ú–ï–ù–ï–ú

## ‚ùó –ü—Ä–æ–±–ª–µ–º–∞
–í—Ä–µ–º—è –≤ —Å–∏—Å—Ç–µ–º–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–æ—Å—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ: –ø–æ–∫–∞–∑—ã–≤–∞–ª–æ UTC –≤—Ä–µ–º—è –≤–º–µ—Å—Ç–æ –º–µ—Å—Ç–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –¢—É—Ä–∫–º–µ–Ω–∏—Å—Ç–∞–Ω–∞ (Asia/Ashgabat, +05:00).

**–ü—Ä–∏–º–µ—Ä:**
- –†–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è: 22:24
- –û—Ç–æ–±—Ä–∞–∂–∞–ª–æ—Å—å: 17:24 (—Ä–∞–∑–Ω–∏—Ü–∞ 5 —á–∞—Å–æ–≤)

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. **–®–∞–±–ª–æ–Ω—ã Django**
–î–æ–±–∞–≤–ª–µ–Ω —Ñ–∏–ª—å—Ç—Ä `|localtime` –≤–æ –≤—Å–µ—Ö –º–µ—Å—Ç–∞—Ö –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏:

```django
<!-- –ë—ã–ª–æ -->
{{ active_call.call_time|date:"H:i" }}

<!-- –°—Ç–∞–ª–æ -->
{{ active_call.call_time|localtime|date:"H:i" }}
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `templates/lohia_monitor/dashboard.html`
- `templates/lohia_monitor/shifts_history.html`
- `templates/lohia_monitor/maintenance_history.html`
- `templates/security/dashboard.html`
- `templates/security/logs_report.html`

### 2. **API –¥–ª—è AJAX**
–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤ `lohia_monitor/views.py`:

```python
# –ë—ã–ª–æ
'start_time': active_shift.start_time.strftime('%H:%M')

# –°—Ç–∞–ª–æ
'start_time': timezone.localtime(active_shift.start_time).strftime('%H:%M')
```

### 3. **–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö**
–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤—Ä–µ–º—è –≤ CSV —ç–∫—Å–ø–æ—Ä—Ç–µ –∏ API –≤ `employees/views.py`:

```python
# –ë—ã–ª–æ
entry.entry_time.strftime('%H:%M')

# –°—Ç–∞–ª–æ
timezone.localtime(entry.entry_time).strftime('%H:%M')
```

### 4. **–°–∏—Å—Ç–µ–º–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**
–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤—Ä–µ–º—è –≤ `security/views.py` –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –ø–∞–Ω–µ–ª–∏ –æ—Ö—Ä–∞–Ω—ã.

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Django
–í `settings.py` —É–∂–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ:

```python
TIME_ZONE = 'Asia/Ashgabat'  # –í—Ä–µ–º—è –¢—É—Ä–∫–º–µ–Ω–∏—Å—Ç–∞–Ω–∞
USE_TZ = True                # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —á–∞—Å–æ–≤—ã–µ –ø–æ—è—Å–∞
```

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç
–¢–µ–ø–µ—Ä—å –≤—Ä–µ–º—è –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤–æ –≤—Å–µ—Ö —á–∞—Å—Ç—è—Ö —Å–∏—Å—Ç–µ–º—ã:
- –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–µ—Å—Ç–Ω–æ–µ –≤—Ä–µ–º—è
- AJAX –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –≤—Ä–µ–º—è
- –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –≤—Ä–µ–º—è
- –õ–æ–≥–∏ —Å–∏—Å—Ç–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –º–µ—Å—Ç–Ω–æ–µ –≤—Ä–µ–º—è

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ
Django –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ —Ö—Ä–∞–Ω–∏—Ç –≤—Ä–µ–º—è –≤ UTC, –Ω–æ —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –µ–≥–æ –≤ –º–µ—Å—Ç–Ω–æ–µ –≤—Ä–µ–º—è –ø—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.
