<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üì¶ –°–∫–ª–∞–¥ –∫–∞—Ñ–µ–ª—è - PH6500</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .buttons {
            margin: 20px 0;
        }
        .btn {
            padding: 12px 24px;
            margin-right: 10px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            text-decoration: none;
            display: inline-block;
        }
        .btn-primary { background: #007bff; color: white; }
        .btn-primary:hover { background: #0056b3; }
        .btn-primary.listening { 
            background: #dc3545; 
            animation: pulse 1s infinite;
        }
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        .btn-success { background: #28a745; color: white; }
        .btn-danger { background: #dc3545; color: white; }
        .btn-secondary { background: #6c757d; color: white; }
        
        .search-box {
            margin: 20px 0;
            padding: 10px;
            width: 300px;
            border: 2px solid #ddd;
            border-radius: 6px;
            font-size: 16px;
        }
        
        .stock-table {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            width: 100%;
            border-collapse: collapse;
        }
        .stock-table th, .stock-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }
        .stock-table th {
            background: #343a40;
            color: white;
            font-weight: bold;
        }
        .stock-table tr:hover {
            background-color: #f8f9fa;
        }
        
        .totals {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }
        .modal-content {
            background-color: white;
            margin: 10% auto;
            padding: 30px;
            border-radius: 10px;
            width: 80%;
            max-width: 500px;
        }
        .modal-content input, .modal-content select, .modal-content textarea {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 2px solid #ddd;
            border-radius: 6px;
            font-size: 16px;
            box-sizing: border-box;
        }
        
        .messages {
            margin: 20px 0;
        }
        .messages div {
            padding: 15px;
            border-radius: 6px;
            margin: 10px 0;
        }
        .messages .success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .messages .error { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        
        .voice-status {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #007bff;
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            display: none;
            z-index: 2000;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        }
        .voice-status.listening {
            background: #dc3545;
        }
        .voice-status.processing {
            background: #ffc107;
            color: #000;
        }
    </style>
</head>
<body>
    <!-- –°—Ç–∞—Ç—É—Å –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –ø–æ–º–æ—â–Ω–∏–∫–∞ -->
    <div id="voiceStatus" class="voice-status">
        <span id="voiceStatusText">üé§ –°–ª—É—à–∞—é...</span>
    </div>

    <div class="header">
        <h1>üì¶ –°–ö–õ–ê–î –ö–ê–§–ï–õ–Ø - PH6500</h1>
        
        <div class="buttons">
            <button class="btn btn-primary" onclick="openModal('newTileModal')">üÜï –ù–æ–≤—ã–π —Ç–∏–ø</button>
            <button class="btn btn-success" onclick="openModal('incomingModal')">‚ûï –ü—Ä–∏—Ö–æ–¥</button>
            <button class="btn btn-danger" onclick="openModal('outgoingModal')">‚ûñ –†–∞—Å—Ö–æ–¥</button>
            <a href="{% url 'warehouse:history' %}" class="btn btn-secondary">üìù –ò—Å—Ç–æ—Ä–∏—è</a>
            <button class="btn btn-secondary" onclick="location.reload()">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>
        </div>
        
        <form method="get" style="display: inline;">
            <input type="text" name="search" id="searchInput" class="search-box" placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é, –∞—Ä—Ç–∏–∫—É–ª—É, —Ä–∞–∑–º–µ—Ä—É..." value="{{ search }}">
            <button type="submit" class="btn btn-secondary">–ù–∞–π—Ç–∏</button>
            <button type="button" id="voiceBtn" class="btn btn-primary">üé§ –ì–æ–ª–æ—Å</button>
            {% if search %}
                <a href="{% url 'warehouse:index' %}" class="btn btn-secondary">–°–±—Ä–æ—Å–∏—Ç—å</a>
            {% endif %}
        </form>
    </div>

    <!-- –°–æ–æ–±—â–µ–Ω–∏—è -->
    {% if messages %}
        <div class="messages">
            {% for message in messages %}
                <div class="{{ message.tags }}">{{ message }}</div>
            {% endfor %}
        </div>
    {% endif %}

    <!-- –¢–∞–±–ª–∏—Ü–∞ –æ—Å—Ç–∞—Ç–∫–æ–≤ -->
    <table class="stock-table">
        <thead>
            <tr>
                <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                <th>–†–∞–∑–º–µ—Ä</th>
                <th>–ê—Ä—Ç–∏–∫—É–ª</th>
                <th>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ</th>
                <th>–í–µ—Å (–∫–≥)</th>
                <th>–¶–µ–Ω–∞/—à—Ç</th>
                <th>–°—Ç–æ–∏–º–æ—Å—Ç—å</th>
            </tr>
        </thead>
        <tbody>
            {% for item in stock_data %}
                <tr>
                    <td><strong>{{ item.tile_type.name }}</strong></td>
                    <td>{{ item.tile_type.size }}</td>
                    <td>{{ item.tile_type.article }}</td>
                    <td><strong>{{ item.quantity }} —à—Ç</strong></td>
                    <td>{{ item.weight|floatformat:1 }}</td>
                    <td>{{ item.tile_type.price_per_piece|floatformat:0 }}‚ÇΩ</td>
                    <td><strong>{{ item.value|floatformat:0 }}‚ÇΩ</strong></td>
                </tr>
            {% empty %}
                <tr>
                    <td colspan="7" style="text-align: center; color: #666;">
                        {% if search %}
                            –ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –ø–æ –∑–∞–ø—Ä–æ—Å—É "{{ search }}"
                        {% else %}
                            –°–∫–ª–∞–¥ –ø—É—Å—Ç. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—ã–π —Ç–∏–ø –∫–∞—Ñ–µ–ª—è!
                        {% endif %}
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <!-- –ò—Ç–æ–≥–∏ -->
    <div class="totals">
        <h3>üìä –ò—Ç–æ–≥–æ –Ω–∞ —Å–∫–ª–∞–¥–µ:</h3>
        <p><strong>–û–±—â–∏–π –≤–µ—Å:</strong> {{ total_weight|floatformat:1 }} –∫–≥</p>
        <p><strong>–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:</strong> {{ total_value|floatformat:0 }}‚ÇΩ</p>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <!-- –ù–æ–≤—ã–π —Ç–∏–ø –∫–∞—Ñ–µ–ª—è -->
    <div id="newTileModal" class="modal">
        <div class="modal-content">
            <h2>üÜï –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–∏–ø –∫–∞—Ñ–µ–ª—è</h2>
            <form method="post" action="{% url 'warehouse:add_tile_type' %}">
                {% csrf_token %}
                <input type="text" name="name" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä: –ë–µ–ª—ã–π –º–∞—Ç–æ–≤—ã–π)" required>
                <input type="text" name="size" placeholder="–†–∞–∑–º–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä: 40x80)" required>
                <input type="number" step="0.001" name="weight" placeholder="–í–µ—Å 1 —à—Ç—É–∫–∏ (–∫–≥)" required>
                <input type="number" step="0.01" name="price" placeholder="–¶–µ–Ω–∞ –∑–∞ —à—Ç—É–∫—É (—Ä—É–±)" required>
                <input type="text" name="article" placeholder="–ê—Ä—Ç–∏–∫—É–ª (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π)" required>
                
                <div style="margin-top: 20px;">
                    <button type="submit" class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å</button>
                    <button type="button" class="btn btn-secondary" onclick="closeModal('newTileModal')">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </form>
        </div>
    </div>

    <!-- –ü—Ä–∏—Ö–æ–¥ -->
    <div id="incomingModal" class="modal">
        <div class="modal-content">
            <h2>‚ûï –ü—Ä–∏—Ö–æ–¥ —Ç–æ–≤–∞—Ä–∞</h2>
            <form method="post" action="{% url 'warehouse:add_transaction' %}">
                {% csrf_token %}
                <input type="hidden" name="operation" value="IN">
                
                <select name="tile_type" required>
                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –∫–∞—Ñ–µ–ª—è</option>
                    {% for tile_type in tile_types_for_select %}
                        <option value="{{ tile_type.id }}">{{ tile_type.name }} {{ tile_type.size }} ({{ tile_type.article }})</option>
                    {% endfor %}
                </select>
                
                <input type="number" name="quantity" placeholder="–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —à—Ç—É–∫" min="1" required>
                <textarea name="comment" placeholder="–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)" rows="3"></textarea>
                
                <div style="margin-top: 20px;">
                    <button type="submit" class="btn btn-success">–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏—Ö–æ–¥</button>
                    <button type="button" class="btn btn-secondary" onclick="closeModal('incomingModal')">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </form>
        </div>
    </div>

    <!-- –†–∞—Å—Ö–æ–¥ -->
    <div id="outgoingModal" class="modal">
        <div class="modal-content">
            <h2>‚ûñ –†–∞—Å—Ö–æ–¥ —Ç–æ–≤–∞—Ä–∞</h2>
            <form method="post" action="{% url 'warehouse:add_transaction' %}">
                {% csrf_token %}
                <input type="hidden" name="operation" value="OUT">
                
                <select name="tile_type" required>
                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –∫–∞—Ñ–µ–ª—è</option>
                    {% for item in stock_data %}
                        {% if item.quantity > 0 %}
                            <option value="{{ item.tile_type.id }}">{{ item.tile_type.name }} {{ item.tile_type.size }} (–æ—Å—Ç–∞—Ç–æ–∫: {{ item.quantity }} —à—Ç)</option>
                        {% endif %}
                    {% endfor %}
                </select>
                
                <input type="number" name="quantity" placeholder="–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —à—Ç—É–∫" min="1" required>
                <textarea name="comment" placeholder="–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)" rows="3"></textarea>
                
                <div style="margin-top: 20px;">
                    <button type="submit" class="btn btn-danger">–°–ø–∏—Å–∞—Ç—å</button>
                    <button type="button" class="btn btn-secondary" onclick="closeModal('outgoingModal')">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // –ì–æ–ª–æ—Å–æ–≤–æ–π –ø–æ–º–æ—â–Ω–∏–∫
        let recognition;
        let isListening = false;

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–¥–¥–µ—Ä–∂–∫—É –±—Ä–∞—É–∑–µ—Ä–∞
        if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            recognition = new SpeechRecognition();
            
            recognition.lang = 'ru-RU';
            recognition.continuous = false;
            recognition.interimResults = false;
            recognition.maxAlternatives = 1;

            // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è
            recognition.onresult = function(event) {
                const speech = event.results[0][0].transcript.toLowerCase();
                showVoiceStatus('üîç –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é: "' + speech + '"', 'processing');
                
                setTimeout(() => {
                    processVoiceCommand(speech);
                }, 500);
            };

            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
            recognition.onerror = function(event) {
                showVoiceStatus('‚ùå –û—à–∏–±–∫–∞: ' + event.error, 'error');
                stopListening();
            };

            // –ö–æ–≥–¥–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –∑–∞–∫–æ–Ω—á–∏–ª–æ—Å—å
            recognition.onend = function() {
                stopListening();
            };
        } else {
            // –°–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –µ—Å–ª–∏ –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç
            document.getElementById('voiceBtn').style.display = 'none';
        }

        // –ö–Ω–æ–ø–∫–∞ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –≤–≤–æ–¥–∞
        document.getElementById('voiceBtn').onclick = function() {
            if (!isListening) {
                startListening();
            } else {
                stopListening();
            }
        };

        function startListening() {
            if (!recognition) return;
            
            isListening = true;
            document.getElementById('voiceBtn').textContent = 'üî¥ –°—Ç–æ–ø';
            document.getElementById('voiceBtn').classList.add('listening');
            showVoiceStatus('üé§ –°–ª—É—à–∞—é... –°–∫–∞–∂–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É', 'listening');
            
            recognition.start();
        }

        function stopListening() {
            isListening = false;
            document.getElementById('voiceBtn').textContent = 'üé§ –ì–æ–ª–æ—Å';
            document.getElementById('voiceBtn').classList.remove('listening');
            hideVoiceStatus();
            
            if (recognition) {
                recognition.stop();
            }
        }

        function showVoiceStatus(text, type = '') {
            const status = document.getElementById('voiceStatus');
            const statusText = document.getElementById('voiceStatusText');
            
            statusText.textContent = text;
            status.className = 'voice-status ' + type;
            status.style.display = 'block';
        }

        function hideVoiceStatus() {
            setTimeout(() => {
                document.getElementById('voiceStatus').style.display = 'none';
            }, 2000);
        }

        function processVoiceCommand(speech) {
            console.log('–û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é –∫–æ–º–∞–Ω–¥—É:', speech);
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –∫–æ–º–∞–Ω–¥—ã
            if (speech.includes('–æ—Å—Ç–∞—Ç–æ–∫') || speech.includes('—Å–∫–æ–ª—å–∫–æ') || speech.includes('–ø–æ–∫–∞–∂–∏')) {
                handleStockQuery(speech);
            } else {
                // –ü—Ä–æ—Å—Ç–æ –∏—â–µ–º –ø–æ —Ç–µ–∫—Å—Ç—É
                handleSearch(speech);
            }
        }

        function handleStockQuery(speech) {
            // –ò–∑–≤–ª–µ–∫–∞–µ–º –∞—Ä—Ç–∏–∫—É–ª/–Ω–∞–∑–≤–∞–Ω–∏–µ –∏–∑ –∫–æ–º–∞–Ω–¥—ã
            let searchTerm = extractSearchTerm(speech);
            
            if (!searchTerm) {
                speak('–ù–µ –ø–æ–Ω—è–ª, –∫–∞–∫–æ–π –∫–∞—Ñ–µ–ª—å –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏');
                showVoiceStatus('‚ùì –ù–µ –ø–æ–Ω—è–ª –∫–æ–º–∞–Ω–¥—É', 'error');
                return;
            }

            // –ò—â–µ–º –≤ —Ç–∞–±–ª–∏—Ü–µ
            const result = findTileInTable(searchTerm);
            
            if (result) {
                const response = `${result.name} ${result.size}: –Ω–∞ —Å–∫–ª–∞–¥–µ ${result.quantity} —à—Ç—É–∫, –æ–±—â–∏–π –≤–µ—Å ${result.weight} –∫–∏–ª–æ–≥—Ä–∞–º–º`;
                speak(response);
                showVoiceStatus('‚úÖ –ù–∞–π–¥–µ–Ω–æ: ' + result.name, 'processing');
                
                // –ü–æ–¥—Å–≤–µ—á–∏–≤–∞–µ–º —Å—Ç—Ä–æ–∫—É –≤ —Ç–∞–±–ª–∏—Ü–µ
                highlightTableRow(result.element);
            } else {
                speak('–ö–∞—Ñ–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω –Ω–∞ —Å–∫–ª–∞–¥–µ');
                showVoiceStatus('‚ùå –ù–µ –Ω–∞–π–¥–µ–Ω–æ: ' + searchTerm, 'error');
            }
        }

        function handleSearch(speech) {
            // –ü—Ä–æ—Å—Ç–æ –≤—Å—Ç–∞–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç –≤ –ø–æ–∏—Å–∫ –∏ –≤—ã–ø–æ–ª–Ω—è–µ–º
            document.getElementById('searchInput').value = speech;
            speak('–ò—â—É ' + speech);
            showVoiceStatus('üîç –ü–æ–∏—Å–∫: ' + speech, 'processing');
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ñ–æ—Ä–º—É –ø–æ–∏—Å–∫–∞
            setTimeout(() => {
                document.querySelector('form').submit();
            }, 1000);
        }

        function extractSearchTerm(speech) {
            // –£–±–∏—Ä–∞–µ–º —Å–ª—É–∂–µ–±–Ω—ã–µ —Å–ª–æ–≤–∞
            let term = speech
                .replace(/–æ—Å—Ç–∞—Ç–æ–∫|—Å–∫–æ–ª—å–∫–æ|–ø–æ–∫–∞–∂–∏|–∫–∞—Ñ–µ–ª—è|–∫–∞—Ñ–µ–ª—å|—à—Ç—É–∫|—à—Ç/g, '')
                .trim();
            
            // –ü—ã—Ç–∞–µ–º—Å—è –Ω–∞–π—Ç–∏ –∞—Ä—Ç–∏–∫—É–ª (–±—É–∫–≤—ã + —Ü–∏—Ñ—Ä—ã)
            const articleMatch = term.match(/[–∞-—èa-z]+\s*\d+[–∞-—èa-z\d\s]*/i);
            if (articleMatch) {
                return articleMatch[0].replace(/\s+/g, '').toUpperCase();
            }
            
            // –ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –æ—á–∏—â–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç
            return term || null;
        }

        function findTileInTable(searchTerm) {
            const rows = document.querySelectorAll('.stock-table tbody tr');
            
            for (let row of rows) {
                const cells = row.querySelectorAll('td');
                if (cells.length < 4) continue;
                
                const name = cells[0].textContent.toLowerCase();
                const size = cells[1].textContent.toLowerCase();
                const article = cells[2].textContent.toLowerCase();
                const quantity = cells[3].textContent;
                const weight = cells[4].textContent;
                
                // –ü–æ–∏—Å–∫ –ø–æ –∞—Ä—Ç–∏–∫—É–ª—É (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
                if (article.includes(searchTerm.toLowerCase()) || 
                    name.includes(searchTerm.toLowerCase()) ||
                    searchTerm.toLowerCase().includes(article)) {
                    
                    return {
                        name: cells[0].textContent.trim(),
                        size: cells[1].textContent.trim(),
                        article: cells[2].textContent.trim(),
                        quantity: quantity.replace(/[^\d]/g, ''),
                        weight: weight.replace(/[^\d.]/g, ''),
                        element: row
                    };
                }
            }
            
            return null;
        }

        function highlightTableRow(row) {
            // –£–±–∏—Ä–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–µ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ
            document.querySelectorAll('.stock-table tbody tr').forEach(r => {
                r.style.backgroundColor = '';
            });
            
            // –í—ã–¥–µ–ª—è–µ–º –Ω–∞–π–¥–µ–Ω–Ω—É—é —Å—Ç—Ä–æ–∫—É
            row.style.backgroundColor = '#fff3cd';
            row.scrollIntoView({ behavior: 'smooth', block: 'center' });
            
            // –£–±–∏—Ä–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
            setTimeout(() => {
                row.style.backgroundColor = '';
            }, 3000);
        }

        function speak(text) {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'ru-RU';
                utterance.rate = 0.9;
                utterance.pitch = 1;
                speechSynthesis.speak(utterance);
            }
        }

        // –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥)
        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'block';
        }
        
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }
        
        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ
        window.onclick = function(event) {
            let modals = document.getElementsByClassName('modal');
            for (let i = 0; i < modals.length; i++) {
                if (event.target == modals[i]) {
                    modals[i].style.display = 'none';
                }
            }
        }
    </script>
</body>
</html>